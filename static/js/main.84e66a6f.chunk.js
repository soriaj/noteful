(window.webpackJsonpnoteful=window.webpackJsonpnoteful||[]).push([[0],{30:function(e,t,n){e.exports=n(56)},40:function(e,t,n){},43:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(26),c=n.n(r),l=n(21),i=n(22),s=n(2),u=n(3),d=n(5),m=n(4),h=n(6),f=n(14),p=n(10),v=n(12),E=n(13),b=o.a.createContext({notes:[],folders:[],addFolders:function(){},addNotes:function(){},deleteNotes:function(){}}),N=(n(40),function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.context.folders;return o.a.createElement("nav",{role:"navigation",className:"nav"},e.map(function(e){return o.a.createElement("div",{key:e.id,className:"nav_notes_add"},o.a.createElement(p.c,{to:"/folder/".concat(e.id)},e.name))}),o.a.createElement("div",{className:"nav_notes_add"},o.a.createElement(v.a,{icon:E.a}),o.a.createElement(p.c,{className:"nav_notes_button",to:"/add-folder"}," Add Folder")))}}]),t}(a.Component));N.contextType=b;var y=N,j=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.history,t=this.props.match.params.noteId,n=this.context,a=n.notes,r=n.folders,c=a.find(function(e){return e.id===t}),l=r.find(function(e){return e.id===c.folderId});return o.a.createElement("div",{className:".nav_notes_add"},l&&o.a.createElement("h3",{className:"sidebarpage__foldername"},l.name),o.a.createElement("button",{className:"sidebarpage_back",type:"button",onClick:function(){return e.goBack()}},o.a.createElement(v.a,{icon:E.e})," Back"))}}]),t}(a.Component);j.contextType=b;var O=j,k=(n(43),function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("header",{role:"banner",className:"header"},o.a.createElement("h1",null,o.a.createElement("span",null,o.a.createElement(v.a,{icon:E.c})),o.a.createElement(p.c,{to:"/"}," ","Noteful")))}}]),t}(a.Component)),_=n(29),g=n.n(_),C={API_ENDPOINT:"http://localhost:9090"},S=(n(46),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleDelete=function(e){e.preventDefault();var t=n.props.id;fetch("".concat(C.API_ENDPOINT,"/notes/").concat(t),{method:"DELETE",headers:{"content-type":"application/json"}}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(){n.context.deleteNotes(t),n.props.onDeleteNote()}).catch(function(e){console.log({error:e})})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"viewNote",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",{className:"note_name"},o.a.createElement(p.b,{to:"/note/".concat(this.props.id)},this.props.name)),o.a.createElement("button",{className:"Note__delete",type:"button",onClick:function(t){return e.handleDelete(t)}},o.a.createElement(v.a,{icon:E.d})," ","Remove"),o.a.createElement("div",null,o.a.createElement("div",null,"Modified"," ",o.a.createElement("span",null,o.a.createElement(g.a,{format:"MM/DD/YY"},this.props.modified)))))}}]),t}(a.Component));S.contextType=b;var F=S,x=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.sentences;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,"Content:"),o.a.createElement("p",null,"".concat(e.slice(0,150),"...")))}}]),t}(a.Component),D=(n(47),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleDeleteNote=function(){n.props.history.push("/")},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.context.notes,n=this.props.match.params.folderId;return o.a.createElement("section",null,o.a.createElement("ul",null,function(e,t){return t?e.filter(function(e){return e.folderId===t}):e}(t,n).map(function(t){return o.a.createElement("li",{key:t.id,className:"note_item"},o.a.createElement(F,{id:t.id,name:t.name,modified:t.modified,onDeleteNote:e.handleDeleteNote}),o.a.createElement(x,{sentences:t.content}))})),o.a.createElement("div",{className:"note_add"},o.a.createElement(v.a,{icon:E.b}),o.a.createElement(p.c,{className:"nav_notes_button",to:"/add-note"},"Add Note")))}}]),t}(a.Component));D.defaultProps={notes:[]},D.contextType=b;var I=D,P=(n(48),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleDeleteNote=function(){n.props.history.push("/")},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.context.notes,t=this.props.match.params.noteId,n=e.find(function(e){return e.id===t})||{content:""};return o.a.createElement("section",{className:"main_note"},o.a.createElement(F,{id:n.id,name:n.name,modified:n.modified,onDeleteNote:this.handleDeleteNote}),o.a.createElement("div",null,n.content.split(/\n \r|\n/).map(function(e,t){return o.a.createElement("p",{key:t},e)})))}}]),t}(a.Component));P.defaultProps={note:{content:""}},P.contextType=b;var A=P;n(49);function T(e){return e.message?o.a.createElement("span",{className:"error"},"(",e.message,")"):o.a.createElement(o.a.Fragment,null)}n(50);var w=function(){return o.a.createElement("span",{className:"AddBookmark__required"},"*")},M=n(25),q=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleClickCancel=function(){n.props.history.push("/")},n.state={error:null,name:{value:""}},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"updateName",value:function(e){this.setState({name:{value:e,touched:!0}})}},{key:"validateName",value:function(){var e=this.state.name.value.trim();return 0===e.length?"Name is required":e.length<3?"Name must be at least 3 characters long":void 0}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Submit was clicked");var n={id:M(),name:this.state.name.value};fetch("".concat(C.API_ENDPOINT,"/folders"),{method:"POST",body:JSON.stringify(n),headers:{"content-type":"application/json"}}).then(function(e){return e.ok?e.json():e.json().then(function(e){throw e})}).then(function(e){t.context.addFolders(e),t.props.history.push("/")}).catch(function(e){t.setState({error:e})})}},{key:"render",value:function(){var e=this,t=this.validateName();return o.a.createElement(o.a.Fragment,null,o.a.createElement("nav",null),o.a.createElement("section",{className:"add__folder"},o.a.createElement("h2",null,"Create a Folder"),this.state.name.touched&&o.a.createElement(T,{message:t}),o.a.createElement("form",{className:"AddFolder__form",onSubmit:function(t){return e.handleSubmit(t)}},o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"name"},"Name"," ",o.a.createElement(w,null)),o.a.createElement("input",{type:"text",name:"name",id:"name",placeholder:"Folder Name",onChange:function(t){return e.updateName(t.target.value)}})),o.a.createElement("div",{className:"AddBookmark__buttons"},o.a.createElement("button",{type:"button",onClick:this.handleClickCancel},"Cancel")," ",o.a.createElement("button",{type:"submit",disabled:this.validateName()},"Save")))))}}]),t}(a.Component);q.contextType=b;var B=q,R=(n(53),n(25)),J=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleClickCancel=function(){n.props.history.push("/")},n.state={error:null,selected:"",name:{value:"",touched:!1},content:{value:"",touched:!1},folder:{value:"",touched:!1}},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"updateNoteName",value:function(e){this.setState({name:{value:e,touched:!0}})}},{key:"updateNoteContent",value:function(e){this.setState({content:{value:e,touched:!0}})}},{key:"updateNoteFolder",value:function(e){this.setState({folder:{value:e,touched:!0}})}},{key:"changeSelection",value:function(e){if("None"===e)this.setState({selected:null});else{var t=this.context.folders.find(function(t){return t.name===e}).id;this.setState({selected:t})}}},{key:"validateName",value:function(){var e=this.state.name.value.trim();return 0===e.length?"Name is required":e.length<3?"Name must be at least 3 characters long":void 0}},{key:"validateContent",value:function(){if(0===this.state.content.value.trim().length)return"Content is required"}},{key:"validateFolder",value:function(){if(null===this.state.selected)return"A folder is required"}},{key:"handleNoteSubmit",value:function(e){var t=this;e.preventDefault();var n={id:R(),name:this.state.name.value,modified:new Date,folderId:this.state.selected,content:this.state.content.value};fetch("".concat(C.API_ENDPOINT,"/notes"),{method:"POST",body:JSON.stringify(n),headers:{"content-type":"application/json"}}).then(function(e){return e.ok?e.json():e.json().then(function(e){throw e})}).then(function(e){t.context.addNotes(e),t.props.history.push("/")}).catch(function(e){t.setState({error:e})})}},{key:"render",value:function(){var e=this,t=this.validateName(),n=this.validateContent(),a=this.validateFolder(),r=this.context.folders,c=r.map(function(e,t){return o.a.createElement("option",{value:e.name,key:t},e.name)}),l=0===r.length?o.a.createElement("div",{className:"lds-facebook"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null)):o.a.createElement("select",{id:"folder",name:"folder",className:"folder_selection",onChange:function(t){return e.changeSelection(t.target.value)}},o.a.createElement("option",{value:"None"},"Select one..."),c);return o.a.createElement(o.a.Fragment,null,o.a.createElement("nav",null),o.a.createElement("div",{className:"add__notes"},o.a.createElement("form",{className:"add__notes_form",onSubmit:function(t){return e.handleNoteSubmit(t)}},o.a.createElement("h2",null,"Add Note"),o.a.createElement("label",{htmlFor:"note_name"},"Note Name",this.state.name.touched&&o.a.createElement(T,{message:t})),o.a.createElement("input",{type:"text",name:"note_name",id:"note_name",onChange:function(t){return e.updateNoteName(t.target.value)}}),o.a.createElement("label",{htmlFor:"note_content"},"Note Content",this.state.name.touched&&o.a.createElement(T,{message:n})),o.a.createElement("textarea",{type:"text",name:"note_content",id:"note_content",onChange:function(t){return e.updateNoteContent(t.target.value)}}),o.a.createElement("div",{className:"folder_selection"},o.a.createElement("label",{htmlFor:"folder"},"Select a Folder:",o.a.createElement("div",null,this.state.name.touched&&o.a.createElement(T,{message:a}))),l),o.a.createElement("div",{className:"registration__button__group"},o.a.createElement("button",{type:"reset",className:"registration__button",onClick:this.handleClickCancel},"Cancel"),o.a.createElement("button",{type:"submit",className:"registration__buton",disabled:this.validateName()||this.validateContent()||this.validateFolder()},"Save")))))}}]),t}(a.Component);J.contextType=b;var Y=J,L=(n(54),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).deleteNotes=function(e){var t=n.state.notes.filter(function(t){return t.id!==e});setTimeout(function(){n.setState({notes:t})},200)},n.addFolders=function(e){n.setState({folders:[].concat(Object(i.a)(n.state.folders),[e])})},n.addNotes=function(e){n.setState({notes:[].concat(Object(i.a)(n.state.notes),[e])})},n.state={folders:[],notes:[]},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([fetch("".concat(C.API_ENDPOINT,"/folders")),fetch("".concat(C.API_ENDPOINT,"/notes"))]).then(function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return n.ok?a.ok?Promise.all([n.json(),a.json()]):a.json().then(function(e){return Promise.reject(e)}):n.json().then(function(e){return Promise.reject(e)})}).then(function(t){var n=Object(l.a)(t,2),a=n[0],o=n[1];e.setState({folders:a,notes:o})}).catch(function(e){console.log({error:e})})}},{key:"renderSidebarRoutes",value:function(){return o.a.createElement(o.a.Fragment,null,["/","/folder/:folderId"].map(function(e){return o.a.createElement(f.a,{exact:!0,path:e,key:e,component:y})}),o.a.createElement(f.a,{path:"/note/:noteId",component:O}),o.a.createElement(f.a,{path:"/add-folder",component:B}),o.a.createElement(f.a,{path:"/add-note",component:Y}))}},{key:"renderMainRoutes",value:function(){return o.a.createElement(o.a.Fragment,null,["/","/folder/:folderId"].map(function(e){return o.a.createElement(f.a,{exact:!0,path:e,key:e,component:I})}),o.a.createElement(f.a,{path:"/note/:noteId",component:A}))}},{key:"render",value:function(){var e=this.renderSidebarRoutes(),t=this.renderMainRoutes(),n={notes:this.state.notes,folders:this.state.folders,deleteNotes:this.deleteNotes,addFolders:this.addFolders,addNotes:this.addNotes};return o.a.createElement(p.a,null,o.a.createElement(b.Provider,{value:n},o.a.createElement("div",{className:"App"},o.a.createElement(k,null),e,t)))}}]),t}(a.Component));n(55);c.a.render(o.a.createElement(L,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.84e66a6f.chunk.js.map